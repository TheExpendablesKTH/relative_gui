{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isValidRevisionID = exports.isValidAssetGroup = exports.resolveURL = exports.addQueryParams = exports.withQueryString = exports.withRequestHeaders = exports.fetchWithBehavior = void 0;\n\nfunction fetchWithBehavior(url, init, fetchBehavior) {\n  if (!fetchBehavior) {\n    return fetch(url, init);\n  }\n\n  const withQuery = withQueryString(url, fetchBehavior);\n  const withHeaders = withRequestHeaders(init, fetchBehavior);\n  return fetch(withQuery, withHeaders);\n}\n\nexports.fetchWithBehavior = fetchWithBehavior;\n\nfunction withRequestHeaders(init, fetchBehavior) {\n  if (!(fetchBehavior === null || fetchBehavior === void 0 ? void 0 : fetchBehavior.headers)) {\n    return init;\n  }\n\n  if (!init) {\n    return {\n      headers: fetchBehavior.headers\n    };\n  }\n\n  return Object.assign(Object.assign({}, init), {\n    headers: Object.assign(Object.assign({}, init.headers || {}), fetchBehavior.headers)\n  });\n}\n\nexports.withRequestHeaders = withRequestHeaders;\n\nfunction withQueryString(url, fetchBehavior) {\n  if (!(fetchBehavior === null || fetchBehavior === void 0 ? void 0 : fetchBehavior.escapedQueryString)) {\n    return url;\n  }\n\n  const hasQuery = url.lastIndexOf('?') !== -1;\n  return `${url}${hasQuery ? '&' : '?'}${fetchBehavior.escapedQueryString}`;\n}\n\nexports.withQueryString = withQueryString;\n\nfunction addQueryParams(fetchBehavior, queryParams) {\n  const keys = Object.keys(queryParams);\n\n  if (!keys.length) {\n    return fetchBehavior;\n  }\n\n  const params = new URLSearchParams(fetchBehavior === null || fetchBehavior === void 0 ? void 0 : fetchBehavior.escapedQueryString);\n\n  for (const key of keys) {\n    params.append(key, queryParams[key]);\n  }\n\n  return Object.assign(Object.assign({}, fetchBehavior), {\n    escapedQueryString: params.toString()\n  });\n}\n\nexports.addQueryParams = addQueryParams;\nconst HEAD_OPTIONS = {\n  method: 'HEAD',\n  mode: 'cors',\n  credentials: 'omit',\n  redirect: 'follow',\n  referrerPolicy: 'origin'\n};\n\nfunction resolveURL(url, fetchBehavior) {\n  return fetchWithBehavior(url, HEAD_OPTIONS, fetchBehavior).then(response => response.redirected ? response.url : url);\n}\n\nexports.resolveURL = resolveURL;\n\nfunction isValidAssetGroup(assetGroup) {\n  return !!assetGroup && /^[-.a-zA-Z0-9]+$/.test(assetGroup);\n}\n\nexports.isValidAssetGroup = isValidAssetGroup;\n\nfunction isValidRevisionID(revisionID) {\n  return !!revisionID && /^[123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ]{22}$/.test(revisionID);\n}\n\nexports.isValidRevisionID = isValidRevisionID;","map":{"version":3,"sources":["/Users/torarvill/Documents/Pip/relative_gui/relative_ui/node_modules/amazon-chime-sdk-js/libs/voicefocus/fetch.js"],"names":["Object","defineProperty","exports","value","isValidRevisionID","isValidAssetGroup","resolveURL","addQueryParams","withQueryString","withRequestHeaders","fetchWithBehavior","url","init","fetchBehavior","fetch","withQuery","withHeaders","headers","assign","escapedQueryString","hasQuery","lastIndexOf","queryParams","keys","length","params","URLSearchParams","key","append","toString","HEAD_OPTIONS","method","mode","credentials","redirect","referrerPolicy","then","response","redirected","assetGroup","test","revisionID"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isValidRevisionID = exports.isValidAssetGroup = exports.resolveURL = exports.addQueryParams = exports.withQueryString = exports.withRequestHeaders = exports.fetchWithBehavior = void 0;\nfunction fetchWithBehavior(url, init, fetchBehavior) {\n    if (!fetchBehavior) {\n        return fetch(url, init);\n    }\n    const withQuery = withQueryString(url, fetchBehavior);\n    const withHeaders = withRequestHeaders(init, fetchBehavior);\n    return fetch(withQuery, withHeaders);\n}\nexports.fetchWithBehavior = fetchWithBehavior;\nfunction withRequestHeaders(init, fetchBehavior) {\n    if (!(fetchBehavior === null || fetchBehavior === void 0 ? void 0 : fetchBehavior.headers)) {\n        return init;\n    }\n    if (!init) {\n        return {\n            headers: fetchBehavior.headers,\n        };\n    }\n    return Object.assign(Object.assign({}, init), { headers: Object.assign(Object.assign({}, init.headers || {}), fetchBehavior.headers) });\n}\nexports.withRequestHeaders = withRequestHeaders;\nfunction withQueryString(url, fetchBehavior) {\n    if (!(fetchBehavior === null || fetchBehavior === void 0 ? void 0 : fetchBehavior.escapedQueryString)) {\n        return url;\n    }\n    const hasQuery = url.lastIndexOf('?') !== -1;\n    return `${url}${hasQuery ? '&' : '?'}${fetchBehavior.escapedQueryString}`;\n}\nexports.withQueryString = withQueryString;\nfunction addQueryParams(fetchBehavior, queryParams) {\n    const keys = Object.keys(queryParams);\n    if (!keys.length) {\n        return fetchBehavior;\n    }\n    const params = new URLSearchParams(fetchBehavior === null || fetchBehavior === void 0 ? void 0 : fetchBehavior.escapedQueryString);\n    for (const key of keys) {\n        params.append(key, queryParams[key]);\n    }\n    return Object.assign(Object.assign({}, fetchBehavior), { escapedQueryString: params.toString() });\n}\nexports.addQueryParams = addQueryParams;\nconst HEAD_OPTIONS = {\n    method: 'HEAD',\n    mode: 'cors',\n    credentials: 'omit',\n    redirect: 'follow',\n    referrerPolicy: 'origin',\n};\nfunction resolveURL(url, fetchBehavior) {\n    return fetchWithBehavior(url, HEAD_OPTIONS, fetchBehavior)\n        .then(response => response.redirected ? response.url : url);\n}\nexports.resolveURL = resolveURL;\nfunction isValidAssetGroup(assetGroup) {\n    return !!assetGroup && /^[-.a-zA-Z0-9]+$/.test(assetGroup);\n}\nexports.isValidAssetGroup = isValidAssetGroup;\nfunction isValidRevisionID(revisionID) {\n    return !!revisionID && /^[123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ]{22}$/.test(revisionID);\n}\nexports.isValidRevisionID = isValidRevisionID;\n"]},"metadata":{},"sourceType":"script"}