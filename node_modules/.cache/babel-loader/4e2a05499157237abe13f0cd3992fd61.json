{"ast":null,"code":"\"use strict\"; // Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nclass BaseConnectionHealthPolicy {\n  constructor(configuration, data) {\n    this.minHealth = configuration.minHealth;\n    this.maxHealth = configuration.maxHealth;\n    this.currentHealth = configuration.initialHealth;\n    this.currentData = data.clone();\n  }\n\n  minimumHealth() {\n    return this.minHealth;\n  }\n\n  maximumHealth() {\n    return this.maxHealth;\n  }\n\n  health() {\n    return this.maximumHealth();\n  }\n\n  update(connectionHealthData) {\n    this.currentData = connectionHealthData;\n  }\n\n  getConnectionHealthData() {\n    return this.currentData.clone();\n  }\n\n  healthy() {\n    return this.health() > this.minimumHealth();\n  }\n\n  healthIfChanged() {\n    const newHealth = this.health();\n\n    if (newHealth !== this.currentHealth) {\n      this.currentHealth = newHealth;\n      return newHealth;\n    }\n\n    return null;\n  }\n\n}\n\nexports.default = BaseConnectionHealthPolicy;","map":{"version":3,"sources":["../../src/connectionhealthpolicy/BaseConnectionHealthPolicy.ts"],"names":[],"mappings":"cAAA;AACA;;;;;;AAMA,MAAqB,0BAArB,CAA+C;AAM7C,EAAA,WAAA,CAAY,aAAZ,EAAgE,IAAhE,EAA0F;AACxF,SAAK,SAAL,GAAiB,aAAa,CAAC,SAA/B;AACA,SAAK,SAAL,GAAiB,aAAa,CAAC,SAA/B;AACA,SAAK,aAAL,GAAqB,aAAa,CAAC,aAAnC;AACA,SAAK,WAAL,GAAmB,IAAI,CAAC,KAAL,EAAnB;AACD;;AAED,EAAA,aAAa,GAAA;AACX,WAAO,KAAK,SAAZ;AACD;;AAED,EAAA,aAAa,GAAA;AACX,WAAO,KAAK,SAAZ;AACD;;AAED,EAAA,MAAM,GAAA;AACJ,WAAO,KAAK,aAAL,EAAP;AACD;;AAED,EAAA,MAAM,CAAC,oBAAD,EAA2C;AAC/C,SAAK,WAAL,GAAmB,oBAAnB;AACD;;AAED,EAAA,uBAAuB,GAAA;AACrB,WAAO,KAAK,WAAL,CAAiB,KAAjB,EAAP;AACD;;AAED,EAAA,OAAO,GAAA;AACL,WAAO,KAAK,MAAL,KAAgB,KAAK,aAAL,EAAvB;AACD;;AAED,EAAA,eAAe,GAAA;AACb,UAAM,SAAS,GAAG,KAAK,MAAL,EAAlB;;AACA,QAAI,SAAS,KAAK,KAAK,aAAvB,EAAsC;AACpC,WAAK,aAAL,GAAqB,SAArB;AACA,aAAO,SAAP;AACD;;AACD,WAAO,IAAP;AACD;;AA5C4C;;AAA/C,OAAA,CAAA,OAAA,GAAA,0BAAA","sourceRoot":"","sourcesContent":["\"use strict\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass BaseConnectionHealthPolicy {\n    constructor(configuration, data) {\n        this.minHealth = configuration.minHealth;\n        this.maxHealth = configuration.maxHealth;\n        this.currentHealth = configuration.initialHealth;\n        this.currentData = data.clone();\n    }\n    minimumHealth() {\n        return this.minHealth;\n    }\n    maximumHealth() {\n        return this.maxHealth;\n    }\n    health() {\n        return this.maximumHealth();\n    }\n    update(connectionHealthData) {\n        this.currentData = connectionHealthData;\n    }\n    getConnectionHealthData() {\n        return this.currentData.clone();\n    }\n    healthy() {\n        return this.health() > this.minimumHealth();\n    }\n    healthIfChanged() {\n        const newHealth = this.health();\n        if (newHealth !== this.currentHealth) {\n            this.currentHealth = newHealth;\n            return newHealth;\n        }\n        return null;\n    }\n}\nexports.default = BaseConnectionHealthPolicy;\n//# sourceMappingURL=BaseConnectionHealthPolicy.js.map"]},"metadata":{},"sourceType":"script"}