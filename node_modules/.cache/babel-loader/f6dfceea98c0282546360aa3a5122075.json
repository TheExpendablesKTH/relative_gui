{"ast":null,"code":"\"use strict\"; // Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst SignalingProtocol_js_1 = require(\"../signalingprotocol/SignalingProtocol.js\");\n\nclass VideoStreamDescription {\n  constructor(attendeeId, groupId, streamId, maxBitrateKbps, avgBitrateKbps) {\n    this.attendeeId = '';\n    this.groupId = 0;\n    this.streamId = 0;\n    this.ssrc = 0;\n    this.trackLabel = '';\n    this.maxBitrateKbps = 0; // average bitrate is updated every 2 seconds via bitrates messages\n\n    this.avgBitrateKbps = 0;\n    this.maxFrameRate = 0;\n    this.timeEnabled = 0;\n    this.disabledByWebRTC = false;\n    this.disabledByUplinkPolicy = false;\n    this.attendeeId = attendeeId;\n    this.groupId = groupId;\n    this.streamId = streamId;\n    this.maxBitrateKbps = maxBitrateKbps;\n    this.avgBitrateKbps = avgBitrateKbps;\n  }\n\n  clone() {\n    const newInfo = new VideoStreamDescription();\n    newInfo.attendeeId = this.attendeeId;\n    newInfo.groupId = this.groupId;\n    newInfo.streamId = this.streamId;\n    newInfo.ssrc = this.ssrc;\n    newInfo.trackLabel = this.trackLabel;\n    newInfo.maxBitrateKbps = this.maxBitrateKbps;\n    newInfo.avgBitrateKbps = this.avgBitrateKbps;\n    newInfo.maxFrameRate = this.maxFrameRate;\n    newInfo.timeEnabled = this.timeEnabled;\n    newInfo.disabledByWebRTC = this.disabledByWebRTC;\n    newInfo.disabledByUplinkPolicy = this.disabledByUplinkPolicy;\n    return newInfo;\n  }\n\n  toStreamDescriptor() {\n    const descriptor = SignalingProtocol_js_1.SdkStreamDescriptor.create();\n    descriptor.mediaType = SignalingProtocol_js_1.SdkStreamMediaType.VIDEO;\n    descriptor.trackLabel = this.trackLabel;\n    descriptor.attendeeId = this.attendeeId;\n    descriptor.streamId = this.streamId;\n    descriptor.groupId = this.groupId;\n    descriptor.framerate = this.maxFrameRate;\n    descriptor.maxBitrateKbps = this.disabledByUplinkPolicy || this.disabledByWebRTC ? 0 : this.maxBitrateKbps;\n    descriptor.avgBitrateBps = this.avgBitrateKbps;\n    return descriptor;\n  }\n\n}\n\nexports.default = VideoStreamDescription;","map":{"version":3,"sources":["../../src/videostreamindex/VideoStreamDescription.ts"],"names":[],"mappings":"cAAA;AACA;;;;;;AAEA,MAAA,sBAAA,GAAA,OAAA,CAAA,2CAAA,CAAA;;AAEA,MAAqB,sBAArB,CAA2C;AAczC,EAAA,WAAA,CACE,UADF,EAEE,OAFF,EAGE,QAHF,EAIE,cAJF,EAKE,cALF,EAKyB;AAlBzB,SAAA,UAAA,GAAqB,EAArB;AACA,SAAA,OAAA,GAAkB,CAAlB;AACA,SAAA,QAAA,GAAmB,CAAnB;AACA,SAAA,IAAA,GAAe,CAAf;AACA,SAAA,UAAA,GAAqB,EAArB;AACA,SAAA,cAAA,GAAyB,CAAzB,CAayB,CAZzB;;AACA,SAAA,cAAA,GAAyB,CAAzB;AACA,SAAA,YAAA,GAAuB,CAAvB;AACA,SAAA,WAAA,GAAsB,CAAtB;AACA,SAAA,gBAAA,GAA4B,KAA5B;AACA,SAAA,sBAAA,GAAkC,KAAlC;AASE,SAAK,UAAL,GAAkB,UAAlB;AACA,SAAK,OAAL,GAAe,OAAf;AACA,SAAK,QAAL,GAAgB,QAAhB;AACA,SAAK,cAAL,GAAsB,cAAtB;AACA,SAAK,cAAL,GAAsB,cAAtB;AACD;;AAED,EAAA,KAAK,GAAA;AACH,UAAM,OAAO,GAAG,IAAI,sBAAJ,EAAhB;AACA,IAAA,OAAO,CAAC,UAAR,GAAqB,KAAK,UAA1B;AACA,IAAA,OAAO,CAAC,OAAR,GAAkB,KAAK,OAAvB;AACA,IAAA,OAAO,CAAC,QAAR,GAAmB,KAAK,QAAxB;AACA,IAAA,OAAO,CAAC,IAAR,GAAe,KAAK,IAApB;AACA,IAAA,OAAO,CAAC,UAAR,GAAqB,KAAK,UAA1B;AACA,IAAA,OAAO,CAAC,cAAR,GAAyB,KAAK,cAA9B;AACA,IAAA,OAAO,CAAC,cAAR,GAAyB,KAAK,cAA9B;AACA,IAAA,OAAO,CAAC,YAAR,GAAuB,KAAK,YAA5B;AACA,IAAA,OAAO,CAAC,WAAR,GAAsB,KAAK,WAA3B;AACA,IAAA,OAAO,CAAC,gBAAR,GAA2B,KAAK,gBAAhC;AACA,IAAA,OAAO,CAAC,sBAAR,GAAiC,KAAK,sBAAtC;AACA,WAAO,OAAP;AACD;;AAED,EAAA,kBAAkB,GAAA;AAChB,UAAM,UAAU,GAAG,sBAAA,CAAA,mBAAA,CAAoB,MAApB,EAAnB;AACA,IAAA,UAAU,CAAC,SAAX,GAAuB,sBAAA,CAAA,kBAAA,CAAmB,KAA1C;AAEA,IAAA,UAAU,CAAC,UAAX,GAAwB,KAAK,UAA7B;AACA,IAAA,UAAU,CAAC,UAAX,GAAwB,KAAK,UAA7B;AACA,IAAA,UAAU,CAAC,QAAX,GAAsB,KAAK,QAA3B;AACA,IAAA,UAAU,CAAC,OAAX,GAAqB,KAAK,OAA1B;AACA,IAAA,UAAU,CAAC,SAAX,GAAuB,KAAK,YAA5B;AACA,IAAA,UAAU,CAAC,cAAX,GACE,KAAK,sBAAL,IAA+B,KAAK,gBAApC,GAAuD,CAAvD,GAA2D,KAAK,cADlE;AAEA,IAAA,UAAU,CAAC,aAAX,GAA2B,KAAK,cAAhC;AACA,WAAO,UAAP;AACD;;AAzDwC;;AAA3C,OAAA,CAAA,OAAA,GAAA,sBAAA","sourceRoot":"","sourcesContent":["\"use strict\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst SignalingProtocol_js_1 = require(\"../signalingprotocol/SignalingProtocol.js\");\nclass VideoStreamDescription {\n    constructor(attendeeId, groupId, streamId, maxBitrateKbps, avgBitrateKbps) {\n        this.attendeeId = '';\n        this.groupId = 0;\n        this.streamId = 0;\n        this.ssrc = 0;\n        this.trackLabel = '';\n        this.maxBitrateKbps = 0;\n        // average bitrate is updated every 2 seconds via bitrates messages\n        this.avgBitrateKbps = 0;\n        this.maxFrameRate = 0;\n        this.timeEnabled = 0;\n        this.disabledByWebRTC = false;\n        this.disabledByUplinkPolicy = false;\n        this.attendeeId = attendeeId;\n        this.groupId = groupId;\n        this.streamId = streamId;\n        this.maxBitrateKbps = maxBitrateKbps;\n        this.avgBitrateKbps = avgBitrateKbps;\n    }\n    clone() {\n        const newInfo = new VideoStreamDescription();\n        newInfo.attendeeId = this.attendeeId;\n        newInfo.groupId = this.groupId;\n        newInfo.streamId = this.streamId;\n        newInfo.ssrc = this.ssrc;\n        newInfo.trackLabel = this.trackLabel;\n        newInfo.maxBitrateKbps = this.maxBitrateKbps;\n        newInfo.avgBitrateKbps = this.avgBitrateKbps;\n        newInfo.maxFrameRate = this.maxFrameRate;\n        newInfo.timeEnabled = this.timeEnabled;\n        newInfo.disabledByWebRTC = this.disabledByWebRTC;\n        newInfo.disabledByUplinkPolicy = this.disabledByUplinkPolicy;\n        return newInfo;\n    }\n    toStreamDescriptor() {\n        const descriptor = SignalingProtocol_js_1.SdkStreamDescriptor.create();\n        descriptor.mediaType = SignalingProtocol_js_1.SdkStreamMediaType.VIDEO;\n        descriptor.trackLabel = this.trackLabel;\n        descriptor.attendeeId = this.attendeeId;\n        descriptor.streamId = this.streamId;\n        descriptor.groupId = this.groupId;\n        descriptor.framerate = this.maxFrameRate;\n        descriptor.maxBitrateKbps =\n            this.disabledByUplinkPolicy || this.disabledByWebRTC ? 0 : this.maxBitrateKbps;\n        descriptor.avgBitrateBps = this.avgBitrateKbps;\n        return descriptor;\n    }\n}\nexports.default = VideoStreamDescription;\n//# sourceMappingURL=VideoStreamDescription.js.map"]},"metadata":{},"sourceType":"script"}